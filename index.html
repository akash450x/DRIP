<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>DRIP - THE EMPIRE</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<style>
:root{ --primary:#FF9933; --bg:#000; --card:#0b0b0b; --border:#1b1b1b; --gold:#D4AF37; }
*{margin:0;padding:0;box-sizing:border-box}
body { background:#000; color:#fff; font-family:'Poppins', sans-serif; height:100vh; overflow:hidden; }

/* üî± GUARANTEED CURTAIN FIX */
#splash-curtain { 
    position:fixed; inset:0; background:#000; 
    display:flex; flex-direction:column; align-items:center; justify-content:center; 
    z-index:100000; transition: transform 0.6s cubic-bezier(0.9, 0, 0.1, 1);
}
.flag-wrap { width:180px; height:110px; background:linear-gradient(to bottom, #FF9933 33.3%, #fff 33.3%, #fff 66.6%, #128807 66.6%); position:relative; border-radius:6px; overflow:hidden; }
.chakra { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:30px; height:30px; background:url("https://upload.wikimedia.org/wikipedia/commons/1/17/Ashoka_Chakra.svg") center/contain no-repeat; }
.namaste { margin-top:15px; font-family:'Bebas Neue'; letter-spacing:6px; color:var(--gold); font-size:26px; }

/* üî± OUTRO WATERMARK */
.reel-outro {
    position: absolute; inset: 0; background: rgba(0,0,0,0.8);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    z-index: 95; opacity: 0; pointer-events: none; transition: opacity 0.5s ease;
}
.outro-active { opacity: 1; }
.outro-logo { font-family: 'Bebas Neue'; font-size: 50px; color: var(--primary); letter-spacing: 5px; }
.outro-user { font-weight: 600; color: #fff; margin-top: 10px; }

/* UI STRUCTURE */
#app-shell { display: flex; flex-direction: column; height: 100vh; width: 100%; position: relative; }
.view { flex:1; position:relative; overflow:hidden; }
.page { display:none; height:100%; overflow-y:auto; }
.page.active { display:block; }
.home-desc { line-height:1.8; font-size:15px; color:#aaa; margin-bottom:20px; padding: 40px; text-align: center; }

/* CREATE & PRIVACY */
.privacy-row { display:flex; align-items:center; justify-content:space-between; background:var(--card); padding:15px; border-radius:12px; margin-top:12px; border: 1px solid var(--border); }
.switch { position:relative; display:inline-block; width:40px; height:20px; }
.switch input { opacity:0; width:0; height:0; }
.slider { position:absolute; cursor:pointer; inset:0; background-color:#333; transition:.4s; border-radius:20px; }
.slider:before { position:absolute; content:""; height:14px; width:14px; left:3px; bottom:3px; background-color:white; transition:.4s; border-radius:50%; }
input:checked + .slider { background-color: var(--primary); }
input:checked + .slider:before { transform: translateX(20px); }

/* REELS & PROFILE */
.reel { height: 100%; width: 100%; position:relative; scroll-snap-align: start; background: #000; }
.reel video { width:100%; height:100%; object-fit:cover; position:absolute; }
.avatar-v63 { width:95px; height:95px; border-radius:32px; background:var(--card) center/cover; margin:0 auto 10px; border:1px solid var(--gold); }
.bio-box { width:100%; background:#0a0a0a; border:1px solid #1a1a1a; border-radius:12px; padding:12px; color:#777; font-size:12px; margin:10px 0; outline:none; }
.grid-tile { aspect-ratio:1/1; background:#111; border:0.5px solid #000; overflow:hidden; }

/* NAV */
.nav { height:75px; display:flex; border-top:1px solid var(--border); background:#000; }
.tab { flex:1; background:none; border:none; color:#333; font-size:22px; cursor:pointer; }
.tab.active { color:var(--primary); }
</style>
</head>

<body>

<div id="splash-curtain">
    <div class="flag-wrap"><div class="chakra"></div></div>
    <div class="namaste">NAMASTE</div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        setTimeout(function() {
            document.getElementById('splash-curtain').style.transform = 'translateY(-100%)';
        }, 1200);
    });
</script>

<div id="app-shell">
    <header style="height:60px; display:flex; align-items:center; padding:0 16px; border-bottom:1px solid var(--border);">
        <div style="font-family:'Bebas Neue'; font-size:28px; color:var(--primary);">DRIP</div>
    </header>

    <div class="view">
        <div id="home" class="page active">
            <div class="home-desc">
                DRIP is India‚Äôs next-generation short-video platform built for creators who move fast and think bold.<br>
                Create reels, share moments, and build a digital identity that actually matters.<br>
                Designed for Gen-Z creators who want speed, simplicity, and real reach.<br>
                No noise. No clutter. Just content that hits different.
            </div>
            <div style="color:var(--primary); font-weight:900; text-align:center; font-family:'Bebas Neue';">BUILT IN INDIA ‚Ä¢ EST 2026</div>
        </div>

        <div id="reels" class="page" style="overflow-y: scroll; scroll-snap-type: y mandatory;"></div>

        <div id="create" class="page" style="padding:20px;">
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
                <button onclick="pick('video/*')" style="padding:15px; background:var(--card); border:1px solid var(--border); color:#fff; border-radius:12px;">üìπ VIDEO</button>
                <button onclick="pick('image/*')" style="padding:15px; background:var(--card); border:1px solid var(--border); color:#fff; border-radius:12px;">üì∏ PHOTO</button>
            </div>
            <textarea id="desc" placeholder="Caption your Reel..." style="width:100%; background:#111; border:1px solid #222; padding:15px; color:#fff; border-radius:15px; margin-top:10px; min-height:80px; outline:none;"></textarea>
            <div class="privacy-row">
                <span style="font-size:13px; font-weight:600;">Allow Comments</span>
                <label class="switch"><input type="checkbox" id="comm-switch" checked><span class="slider"></span></label>
            </div>
            <button onclick="publish()" style="width:100%; margin-top:15px; padding:18px; background:var(--primary); color:#000; border:none; border-radius:15px; font-weight:900;">PUBLISH</button>
            <input type="file" id="file" hidden>
        </div>

        <div id="notifications" class="page" style="padding:20px;"><h3 style="font-family:'Bebas Neue'; color:var(--gold);">Notifications</h3></div>

        <div id="profile" class="page" style="padding:20px; text-align:center;">
            <div id="uAvatar" class="avatar-v63"></div>
            <button onclick="document.getElementById('av-in').click()" style="color:var(--primary); font-size:11px; background:none; border:none; font-weight:bold;">Edit Profile Picture</button>
            <input type="file" id="av-in" hidden onchange="upAv(this)">
            <h2 id="uName" contenteditable="true" style="margin-top:10px;">Name</h2>
            <p id="uHandle" contenteditable="true" style="color:#555; font-size:13px;">@username</p>
            <div class="bio-box" contenteditable="true">Describe your Empire admission...</div>
            <div style="display:flex; gap:8px; margin:10px 0;">
                <button onclick="sg(this)" class="g-tab active">Male</button><button onclick="sg(this)" class="g-tab">Female</button><button onclick="sg(this)" class="g-tab">Other</button>
            </div>
            <input type="date" style="width:100%; background:#111; border:1px solid #222; color:#fff; padding:12px; border-radius:12px; font-size:12px; margin-bottom:10px;">
            <div id="my-grid" style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:2px; margin-top:15px;"></div>
            <button onclick="auth.signOut().then(()=>location.reload())" style="width:100%; margin-top:20px; padding:15px; background:var(--card); color:#fff; border:1px solid #333; border-radius:12px;">LOG OUT</button>
            <button onclick="confirm('Delete?') && auth.signOut().then(()=>location.reload())" style="width:100%; margin-top:8px; color:#ff4444; border:1px solid #331111; border-radius:12px;">DELETE ACCOUNT</button>
        </div>
    </div>

    <nav class="nav">
        <button class="tab active" onclick="go('home',this)">üè†</button>
        <button class="tab" onclick="go('reels',this)">‚ñ∂</button>
        <button class="tab" onclick="go('create',this)">Ôºã</button>
        <button class="tab" onclick="go('notifications',this)">üîî</button>
        <button class="tab" onclick="go('profile',this)">üë§</button>
    </nav>
</div>

<script>
const config = { apiKey: "AIzaSyA8SMoQI3UxfhZwdq65H81Jv31Q8wUKxMM", authDomain: "drip-india.firebaseapp.com", projectId: "drip-india" };
firebase.initializeApp(config);
const auth = firebase.auth();

auth.onAuthStateChanged(user => {
    if (user) {
        document.getElementById('uName').innerHTML = user.displayName + ' <span style="color:var(--gold);">‚úÖ</span>';
        document.getElementById('uHandle').innerText = '@' + user.displayName.split(' ')[0].toLowerCase();
        if(user.photoURL) document.getElementById('uAvatar').style.backgroundImage = `url(${user.photoURL})`;
    }
});

function go(id, btn){
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
    btn.classList.add('active');
}
function pick(t){ const f = document.getElementById('file'); f.accept = t; f.click(); }
function upAv(i){ if(i.files[0]) document.getElementById('uAvatar').style.backgroundImage = `url(${URL.createObjectURL(i.files[0])})`; }
function sg(b){ document.querySelectorAll('.g-tab').forEach(x=>x.classList.remove('active')); b.classList.add('active'); }

function publish(){
    const f = document.getElementById('file'); const d = document.getElementById('desc');
    const allowComm = document.getElementById('comm-switch').checked;
    if(!f.files[0]) return alert("Select media!");
    const url = URL.createObjectURL(f.files[0]);
    const isVid = f.files[0].type.includes('video');
    const uName = document.getElementById('uName').innerText;

    const reel = document.createElement("div"); 
    reel.className = "reel";
    reel.innerHTML = `
        ${isVid ? `<video src="${url}" playsinline onended="showOutro(this)"></video>` : `<img src="${url}">`}
        <div class="reel-outro"><div class="outro-logo">DRIP</div><div class="outro-user">${uName}</div></div>
        <div style="position:absolute; bottom:25px; left:16px; z-index:90; background:rgba(0,0,0,0.6); padding:12px; border-radius:12px; backdrop-filter:blur(5px);">
            <b style="font-size:14px;">${uName}</b><br><span style="font-size:12px; color:#ccc;">${d.value}</span>
        </div>
        <div style="position:absolute; right:12px; bottom:100px; display:flex; flex-direction:column; gap:20px; z-index:100;">
            <button style="background:none; border:none; color:#fff; font-size:24px;">‚ù§Ô∏è</button>
            ${allowComm ? `<button style="background:none; border:none; color:#fff; font-size:24px;">üí¨</button>` : ''}
        </div>
        <button onclick="playVid(this)" style="position:absolute; inset:0; background:none; border:none; z-index:50;"></button>`;
    
    document.getElementById('reels').appendChild(reel);
    const tile = document.createElement('div'); tile.className='grid-tile';
    tile.innerHTML = isVid ? `<video src="${url}" muted></video>` : `<img src="${url}" style="width:100%; height:100%; object-fit:cover;">`;
    document.getElementById('my-grid').appendChild(tile);
    d.value = ""; f.value = "";
    go('reels', document.querySelectorAll('.tab')[1]);
}

function playVid(btn) { 
    const v = btn.parentElement.querySelector('video'); 
    if(v) { v.paused ? v.play() : v.pause(); btn.parentElement.querySelector('.reel-outro').classList.remove('outro-active'); }
}
function showOutro(vid) { vid.parentElement.querySelector('.reel-outro').classList.add('outro-active'); }
</script>
</body>
</html>
