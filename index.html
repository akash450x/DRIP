<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>DRIP - THE EMPIRE</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<style>
:root{ --primary:#FF9933; --bg:#000; --card:#0b0b0b; --border:#1b1b1b; --gold:#D4AF37; }
*{margin:0;padding:0;box-sizing:border-box}
body{ background:#000; color:#fff; font-family:'Poppins', sans-serif; height:100vh; overflow:hidden; }

/* üî± GUARANTEED SPLASH */
#splash { 
    position:fixed; inset:0; background:#000; 
    display:flex; flex-direction:column; align-items:center; justify-content:center; 
    z-index:100000; opacity:1; transition: 0.5s; 
}
.flag-wrap { width:180px; height:110px; background:linear-gradient(to bottom, #FF9933 33.3%, #fff 33.3%, #fff 66.6%, #128807 66.6%); position:relative; border-radius:6px; overflow:hidden; }
.chakra { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:30px; height:30px; background:url("https://upload.wikimedia.org/wikipedia/commons/1/17/Ashoka_Chakra.svg") center/contain no-repeat; }
.namaste-text { margin-top:15px; font-family:'Bebas Neue'; letter-spacing:6px; color:var(--gold); font-size:26px; }

/* üî± APP VISIBILITY */
#auth-gate { display:none; position:fixed; inset:0; background:#000; z-index:90000; flex-direction:column; align-items:center; justify-content:center; }
#app { display:none; height:100vh; flex-direction:column; opacity:0; transition: opacity 0.5s ease; }

/* REELS & LEADERBOARD */
#reels { height: 100%; overflow-y: scroll; scroll-snap-type: y mandatory; background: #000; }
#reels::-webkit-scrollbar { display: none; }
.reel { height: 100%; width: 100%; position:relative; scroll-snap-align: start; background: #000; overflow:hidden; }
.reel video { width:100%; height:100%; object-fit:cover; position:absolute; }

.leaderboard-row { display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--card); border-radius: 12px; margin-bottom: 8px; border: 1px solid var(--border); }
.rank-num { font-family: 'Bebas Neue'; font-size: 20px; color: var(--gold); width: 25px; }

/* NAVIGATION */
.nav { height:75px; display:flex; border-top:1px solid var(--border); background:#000; z-index:1000; }
.tab { flex:1; background:none; border:none; color:#333; font-size:22px; cursor:pointer; }
.tab.active { color:var(--primary); }

.view { flex:1; position:relative; overflow:hidden; }
.page { display:none; height:100%; overflow-y:auto; padding-bottom: 20px; }
.page.active { display:block; }
</style>
</head>

<body>

<div id="splash">
    <div class="flag-wrap"><div class="chakra"></div></div>
    <div class="namaste-text">NAMASTE</div>
</div>

<div id="auth-gate">
    <h1 style="font-family:'Bebas Neue'; font-size:60px; color:var(--primary); letter-spacing:5px;">DRIP</h1>
    <button onclick="googleLogin()" style="padding:18px 40px; background:#fff; color:#000; border:none; border-radius:50px; font-weight:900; margin-top:20px; cursor:pointer;">SIGN IN WITH GOOGLE</button>
</div>

<div id="app">
    <header style="height:60px; display:flex; align-items:center; padding:0 16px; border-bottom:1px solid var(--border);">
        <div style="font-family:'Bebas Neue'; font-size:28px; color:var(--primary);">DRIP</div>
    </header>

    <div class="view">
        <div id="home" class="page active" style="padding:40px; text-align:center;">
            <p style="color:#aaa; line-height:1.8;">DRIP: India‚Äôs next-generation platform.<br><span>BUILT IN INDIA ‚Ä¢ EST 2026</span></p>
        </div>

        <div id="reels" class="page"></div>

        <div id="create" class="page" style="padding:20px;">
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                <button onclick="pick('video/*')" style="padding:15px; background:var(--card); border:1px solid var(--border); color:#fff; border-radius:10px;">üìπ VIDEO</button>
                <button onclick="pick('image/*')" style="padding:15px; background:var(--card); border:1px solid var(--border); color:#fff; border-radius:10px;">üì∏ PHOTO</button>
            </div>
            <textarea id="desc" placeholder="What's happening?" style="width:100%; background:#111; border:1px solid var(--border); padding:15px; color:#fff; border-radius:15px; margin-top:10px; min-height:100px;"></textarea>
            <button onclick="publish()" style="width:100%; margin-top:15px; padding:18px; background:var(--primary); color:#000; border:none; border-radius:15px; font-weight:900;">PUBLISH</button>
            <input type="file" id="file" hidden>
        </div>

        <div id="search" class="page" style="padding:20px;">
            <div style="display:flex; align-items:center; background:var(--card); border-radius:14px; padding:0 15px; border:1px solid var(--border);">
                <span>üîç</span><input placeholder="Search Empire..." style="flex:1; background:none; border:none; padding:15px 10px; color:#fff; outline:none;">
            </div>
            <h4 style="margin:20px 0 10px; color:var(--gold); font-family:'Bebas Neue';">Top Contributors</h4>
            <div class="leaderboard-row">
                <div class="rank-num">01</div>
                <div style="flex:1;"><b>@akash ‚úÖ</b></div>
            </div>
        </div>

        <div id="notifications" class="page" style="padding:20px;">
            <h3 style="font-family:'Bebas Neue'; color:var(--gold);">Notifications</h3>
            <p style="margin-top:10px; color:#444;">No new alerts.</p>
        </div>

        <div id="profile" class="page" style="padding:20px; text-align:center;">
            <div id="uAvatar" style="width:100px; height:100px; border-radius:35px; background:#111; margin:0 auto 15px; border:1.5px solid var(--gold);"></div>
            <h2 id="uName">AKASH <span style="color:var(--gold);">‚úÖ</span></h2>
            <div id="my-reels-grid" style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:2px; margin-top:20px;"></div>
        </div>
    </div>

    <nav class="nav">
        <button class="tab active" onclick="go('home',this)">üè†</button>
        <button class="tab" onclick="go('reels',this)">‚ñ∂</button>
        <button class="tab" onclick="go('create',this)">Ôºã</button>
        <button class="tab" onclick="go('search',this)">üîç</button>
        <button class="tab" onclick="go('notifications',this)">üîî</button>
        <button class="tab" onclick="go('profile',this)">üë§</button>
    </nav>
</div>

<script>
// üî± FAST INITIALIZATION SCRIPT
const config = { apiKey: "AIzaSyA8SMoQI3UxfhZwdq65H81Jv31Q8wUKxMM", authDomain: "drip-india.firebaseapp.com", projectId: "drip-india" };
firebase.initializeApp(config);
const auth = firebase.auth();

function showUI(user) {
    const splash = document.getElementById('splash');
    const authGate = document.getElementById('auth-gate');
    const app = document.getElementById('app');

    splash.style.opacity = '0';
    setTimeout(() => {
        splash.style.display = 'none';
        if (user) {
            app.style.display = 'flex';
            setTimeout(() => app.style.opacity = '1', 50);
            authGate.style.display = 'none';
        } else {
            authGate.style.display = 'flex';
            app.style.display = 'none';
        }
    }, 500);
}

// Check auth state but don't let it block the splash
auth.onAuthStateChanged(user => {
    if (user) {
        document.getElementById('uName').innerHTML = user.displayName + ' <span style="color:var(--gold);">‚úÖ</span>';
        showUI(true);
    } else {
        showUI(false);
    }
});

// üî± FAIL-SAFE: If Firebase doesn't respond in 2s, force show login
setTimeout(() => {
    if (document.getElementById('splash').style.display !== 'none') {
        showUI(auth.currentUser);
    }
}, 2000);

function googleLogin() { 
    const p = new firebase.auth.GoogleAuthProvider();
    p.setCustomParameters({ prompt: 'select_account' });
    auth.signInWithPopup(p); 
}

function go(id, btn){
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
    btn.classList.add('active');
}

function pick(t){ const f = document.getElementById('file'); f.accept = t; f.click(); }
function publish(){
    const f = document.getElementById('file'); const d = document.getElementById('desc');
    if(!f.files[0]) return alert("Select media!");
    const url = URL.createObjectURL(f.files[0]);
    const reel = document.createElement("div"); 
    reel.className = "reel";
    reel.innerHTML = `<video src="${url}" autoplay muted loop playsinline style="width:100%; height:100%; object-fit:cover;"></video>
        <div style="position:absolute; bottom:25px; left:16px; z-index:90; background:rgba(0,0,0,0.5); padding:12px; border-radius:12px; border:1px solid rgba(255,255,255,0.1);">
            <b>@akash ‚úÖ</b><br><span style="font-size:12px; color:#ccc;">${d.value}</span>
        </div>`;
    document.getElementById('reels').appendChild(reel);
    go('reels', document.querySelectorAll('.tab')[1]);
}
</script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>DRIP - THE EMPIRE</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<style>
:root{ --primary:#FF9933; --bg:#000; --card:#0b0b0b; --border:#1b1b1b; --gold:#D4AF37; }
*{margin:0;padding:0;box-sizing:border-box}
body{ background:#000; color:#fff; font-family:'Poppins', sans-serif; height:100vh; overflow:hidden; }

/* üî± GUARANTEED SPLASH */
#splash { 
    position:fixed; inset:0; background:#000; 
    display:flex; flex-direction:column; align-items:center; justify-content:center; 
    z-index:100000; opacity:1; transition: 0.5s; 
}
.flag-wrap { width:180px; height:110px; background:linear-gradient(to bottom, #FF9933 33.3%, #fff 33.3%, #fff 66.6%, #128807 66.6%); position:relative; border-radius:6px; overflow:hidden; }
.chakra { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:30px; height:30px; background:url("https://upload.wikimedia.org/wikipedia/commons/1/17/Ashoka_Chakra.svg") center/contain no-repeat; }
.namaste-text { margin-top:15px; font-family:'Bebas Neue'; letter-spacing:6px; color:var(--gold); font-size:26px; }

/* üî± APP VISIBILITY */
#auth-gate { display:none; position:fixed; inset:0; background:#000; z-index:90000; flex-direction:column; align-items:center; justify-content:center; }
#app { display:none; height:100vh; flex-direction:column; opacity:0; transition: opacity 0.5s ease; }

/* REELS & LEADERBOARD */
#reels { height: 100%; overflow-y: scroll; scroll-snap-type: y mandatory; background: #000; }
#reels::-webkit-scrollbar { display: none; }
.reel { height: 100%; width: 100%; position:relative; scroll-snap-align: start; background: #000; overflow:hidden; }
.reel video { width:100%; height:100%; object-fit:cover; position:absolute; }

.leaderboard-row { display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--card); border-radius: 12px; margin-bottom: 8px; border: 1px solid var(--border); }
.rank-num { font-family: 'Bebas Neue'; font-size: 20px; color: var(--gold); width: 25px; }

/* NAVIGATION */
.nav { height:75px; display:flex; border-top:1px solid var(--border); background:#000; z-index:1000; }
.tab { flex:1; background:none; border:none; color:#333; font-size:22px; cursor:pointer; }
.tab.active { color:var(--primary); }

.view { flex:1; position:relative; overflow:hidden; }
.page { display:none; height:100%; overflow-y:auto; padding-bottom: 20px; }
.page.active { display:block; }
</style>
</head>

<body>

<div id="splash">
    <div class="flag-wrap"><div class="chakra"></div></div>
    <div class="namaste-text">NAMASTE</div>
</div>

<div id="auth-gate">
    <h1 style="font-family:'Bebas Neue'; font-size:60px; color:var(--primary); letter-spacing:5px;">DRIP</h1>
    <button onclick="googleLogin()" style="padding:18px 40px; background:#fff; color:#000; border:none; border-radius:50px; font-weight:900; margin-top:20px; cursor:pointer;">SIGN IN WITH GOOGLE</button>
</div>

<div id="app">
    <header style="height:60px; display:flex; align-items:center; padding:0 16px; border-bottom:1px solid var(--border);">
        <div style="font-family:'Bebas Neue'; font-size:28px; color:var(--primary);">DRIP</div>
    </header>

    <div class="view">
        <div id="home" class="page active" style="padding:40px; text-align:center;">
            <p style="color:#aaa; line-height:1.8;">DRIP: India‚Äôs next-generation platform.<br><span>BUILT IN INDIA ‚Ä¢ EST 2026</span></p>
        </div>

        <div id="reels" class="page"></div>

        <div id="create" class="page" style="padding:20px;">
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                <button onclick="pick('video/*')" style="padding:15px; background:var(--card); border:1px solid var(--border); color:#fff; border-radius:10px;">üìπ VIDEO</button>
                <button onclick="pick('image/*')" style="padding:15px; background:var(--card); border:1px solid var(--border); color:#fff; border-radius:10px;">üì∏ PHOTO</button>
            </div>
            <textarea id="desc" placeholder="What's happening?" style="width:100%; background:#111; border:1px solid var(--border); padding:15px; color:#fff; border-radius:15px; margin-top:10px; min-height:100px;"></textarea>
            <button onclick="publish()" style="width:100%; margin-top:15px; padding:18px; background:var(--primary); color:#000; border:none; border-radius:15px; font-weight:900;">PUBLISH</button>
            <input type="file" id="file" hidden>
        </div>

        <div id="search" class="page" style="padding:20px;">
            <div style="display:flex; align-items:center; background:var(--card); border-radius:14px; padding:0 15px; border:1px solid var(--border);">
                <span>üîç</span><input placeholder="Search Empire..." style="flex:1; background:none; border:none; padding:15px 10px; color:#fff; outline:none;">
            </div>
            <h4 style="margin:20px 0 10px; color:var(--gold); font-family:'Bebas Neue';">Top Contributors</h4>
            <div class="leaderboard-row">
                <div class="rank-num">01</div>
                <div style="flex:1;"><b>@akash ‚úÖ</b></div>
            </div>
        </div>

        <div id="notifications" class="page" style="padding:20px;">
            <h3 style="font-family:'Bebas Neue'; color:var(--gold);">Notifications</h3>
            <p style="margin-top:10px; color:#444;">No new alerts.</p>
        </div>

        <div id="profile" class="page" style="padding:20px; text-align:center;">
            <div id="uAvatar" style="width:100px; height:100px; border-radius:35px; background:#111; margin:0 auto 15px; border:1.5px solid var(--gold);"></div>
            <h2 id="uName">AKASH <span style="color:var(--gold);">‚úÖ</span></h2>
            <div id="my-reels-grid" style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:2px; margin-top:20px;"></div>
        </div>
    </div>

    <nav class="nav">
        <button class="tab active" onclick="go('home',this)">üè†</button>
        <button class="tab" onclick="go('reels',this)">‚ñ∂</button>
        <button class="tab" onclick="go('create',this)">Ôºã</button>
        <button class="tab" onclick="go('search',this)">üîç</button>
        <button class="tab" onclick="go('notifications',this)">üîî</button>
        <button class="tab" onclick="go('profile',this)">üë§</button>
    </nav>
</div>

<script>
// üî± FAST INITIALIZATION SCRIPT
const config = { apiKey: "AIzaSyA8SMoQI3UxfhZwdq65H81Jv31Q8wUKxMM", authDomain: "drip-india.firebaseapp.com", projectId: "drip-india" };
firebase.initializeApp(config);
const auth = firebase.auth();

function showUI(user) {
    const splash = document.getElementById('splash');
    const authGate = document.getElementById('auth-gate');
    const app = document.getElementById('app');

    splash.style.opacity = '0';
    setTimeout(() => {
        splash.style.display = 'none';
        if (user) {
            app.style.display = 'flex';
            setTimeout(() => app.style.opacity = '1', 50);
            authGate.style.display = 'none';
        } else {
            authGate.style.display = 'flex';
            app.style.display = 'none';
        }
    }, 500);
}

// Check auth state but don't let it block the splash
auth.onAuthStateChanged(user => {
    if (user) {
        document.getElementById('uName').innerHTML = user.displayName + ' <span style="color:var(--gold);">‚úÖ</span>';
        showUI(true);
    } else {
        showUI(false);
    }
});

// üî± FAIL-SAFE: If Firebase doesn't respond in 2s, force show login
setTimeout(() => {
    if (document.getElementById('splash').style.display !== 'none') {
        showUI(auth.currentUser);
    }
}, 2000);

function googleLogin() { 
    const p = new firebase.auth.GoogleAuthProvider();
    p.setCustomParameters({ prompt: 'select_account' });
    auth.signInWithPopup(p); 
}

function go(id, btn){
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
    btn.classList.add('active');
}

function pick(t){ const f = document.getElementById('file'); f.accept = t; f.click(); }
function publish(){
    const f = document.getElementById('file'); const d = document.getElementById('desc');
    if(!f.files[0]) return alert("Select media!");
    const url = URL.createObjectURL(f.files[0]);
    const reel = document.createElement("div"); 
    reel.className = "reel";
    reel.innerHTML = `<video src="${url}" autoplay muted loop playsinline style="width:100%; height:100%; object-fit:cover;"></video>
        <div style="position:absolute; bottom:25px; left:16px; z-index:90; background:rgba(0,0,0,0.5); padding:12px; border-radius:12px; border:1px solid rgba(255,255,255,0.1);">
            <b>@akash ‚úÖ</b><br><span style="font-size:12px; color:#ccc;">${d.value}</span>
        </div>`;
    document.getElementById('reels').appendChild(reel);
    go('reels', document.querySelectorAll('.tab')[1]);
}
</script>
</body>
</html>
